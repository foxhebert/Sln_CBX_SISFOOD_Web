@*@model IEnumerable<CBX_Web_SISCOP.wsOrganizacion.UnidadOrg>*@

@{
    ViewBag.Title = "UnidadOrganizacional";
}


<div class="row">
    <!--INICIO PANEL-->
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">

            <div class="col-md-4 col-sm-4 col-xs-12">
                <label class="" style="text-align: right !important;">Buscar </label>
                <input type="text" class="form-control" placeholder="Buscar por Código o Descripción" id="filtroUniOrg">
            </div>

            <div class="col-md-2 col-sm-2 col-xs-12">
                <label class="control-label">Jerarquía</label>
                <select class="form-control" id="cboJerarUniOrg">
                    <option value="0" selected>Todos</option>
                </select>
            </div>

            <div class="col-md-2 col-sm-2 col-xs-12">
                <label class="control-label">Estado</label>
                <select class="form-control" id="filActiUniOrg">
                    <option value="2">Todos</option>
                    <option value="1" selected>Activo</option>
                    <option value="0">Inactivo</option>
                </select>
            </div>

        </div>
    </div>
</div>

<!-- PANEL DE MENUS -->
<div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="breadcrumb">
            <a class="breadcrumb__step breadcrumb__step--active" href="#" id="PadreMenu_txt">Organización</a>
            <a class="breadcrumb__step" href="#" id="HijoMenu_txt">Unidad Organizacional</a>
        </div>
    </div>
</div>

<div class="row">
    <!-- PANEL TABLA -->
    <div class="col-lg-7 col-md-7 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Listado de Unidades Organizacionales</h2>
                <ul class="nav navbar-right panel_toolbox">
                    <li>
                        <input type="button" id="btn-new-undOrganiza" class="btn btn-primary" value="Nueva Und. Organizacional">
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <table id="tablaUnidOrg" class="table table-striped table-bordered table-responsive pre-wrap" cellspacing="0" style="width:100%;">
                    @*<table id="tablaUnidOrg" class="table table-striped table-bordered table-responsive nowrap"  cellspacing="0" width="100%">*@
                    @* nowrap: propiedad que no permite el salto de linea
                        pre-wrap: propiedad que permite salto de linea *@
                    <thead>
                        <tr>
                            <th>Código</th>
                            <th>Descripción</th>
                            <th>Jerarquía</th>
                            <th>U.O. Superior</th>
                            <th>Estado</th>
                            <th>Acción</th>
                            <th style="display:none">1</th>
                            <th style="display:none">2</th>
                            <th style="display:none">3</th>
                            <th style="display:none">4</th>
                            <th style="display:none">5</th>
                            <th style="display:none">8</th>
                        </tr>
                    </thead>
                    <tbody id="tablabodyUnidOrg"></tbody>
                </table>


            </div>
        </div>
    </div>

    <!-- SEGUNDO PANEL -->
    <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
        <div class="form-hide-undOrganiza" hidden>

            <div class="x_panel">
                <div class="x_title">
                    <h2>Información de la Unidad Organizacional</h2>
                    <ul class="nav navbar-right panel_toolbox">
                        <li>
                            <input type="button" id="btn-save-change-undOrganiza" class="btn btn-primary" value="Guardar">
                            <input type="button" id="btn-update-undOrganiza" class="btn btn-success" value="Actualizar" hidden>
                        </li>
                        <li>
                            <input type="button" id="btn-cancel-undOrganiza" class="btn btn-dark" value="Cancelar">
                        </li>

                    </ul>
                    <div class="clearfix"></div>
                </div>
                <div class="x_content">
                    <form class="form-horizontal form-label-left">
                        <br />
                    </form>
                </div>
            </div>

        </div>
    </div>

</div>

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header pb-0">
                <div class="row">
                    <div class="col-md-8 col-sm-8 col-xs-6">
                        <h5 class="modal-title" id="exampleModalLabel"><strong>UBIGEO</strong></h5>
                    </div>
                    <div class="col-md-4 col-sm-4 col-xs-6 text-right">
                        <button type="button" class="btn btn-primary" id="btnGuardarUbigeo" data-dismiss="modal">Seleccionar</button>
                        <button type="button" class="btn btn-secondary" id="btnCerrarUbigeo" data-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label>País</label>
                            <select class="form-control" id="CboPais">
                                <option>Seleccione</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label>Departamento</label>
                            <select class="form-control" id="CboRegion">
                                <option>Seleccione</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label>
                                Provincia
                            </label>
                            <select class="form-control" id="CboProvincia">
                                <option>Seleccione</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label>Distrito</label>
                            <select class="form-control" id="CboDistrito">
                                <option>Seleccione</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $.post(
            '/Organizacion/GetCampJerar',
            {},
            (response) => {
                response.forEach(element => {
                    $('#cboJerarUniOrg').append(
                        ' <option value="' + element.IntIdJerOrg + '">' + element.strNomJerOrg + '</option>'
                    );
                });
                TablaUnidadOrg();
            }
        );


    });
</script>
